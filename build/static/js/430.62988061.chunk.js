"use strict";(self.webpackChunkexamen_react=self.webpackChunkexamen_react||[]).push([[430],{7430:function(e,n,t){t.r(n),t.d(n,{ListEmployees:function(){return F},default:function(){return G}});var a=t(1413),r=t(9439),i=t(2791),s=t(4165),o=t(5861),l=function(){var e=function(e,n){var t={accept:"application/json"},r=new AbortController;return n.signal=r.signal,n.method=n.method||"GET",n.headers=n.headers?(0,a.Z)((0,a.Z)({},t),n.headers):t,n.body=JSON.stringify(n.body)||!1,n.body||delete n.body,setTimeout((function(){return r.abort()}),3e3),fetch(e,n).then((function(e){return e.json()})).catch((function(e){return e}))};return{get:function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e(n,t)},post:function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.method="POST",e(n,t)},put:function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.method="PUT",e(n,t)},del:function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.method="DELETE",e(n,t)}}},c="https://6edeayi7ch.execute-api.us-east-1.amazonaws.com";function d(){return(d=(0,o.Z)((0,s.Z)().mark((function e(n){var t,a;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(c,"/v1/examen/employees/:").concat(n),a={headers:{"content-type":"application/json"}},e.next=4,l().get(t,a).then((function(e){return e})).then((function(e){return e}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var u=t(4263),m=t(3441),h=[{field:"id",headerName:"ID",width:70},{field:"name",headerName:"Nombres",width:180},{field:"last_name",headerName:"Apellidos",width:180},{field:"birthday",headerName:"Cumplea\xf1os!",type:"Date",width:180},{field:"nombre",headerName:"Nombre completo",description:"Esta columna no es ordenable.",sortable:!1,width:600,valueGetter:function(e){return"".concat(e.row.name||""," ").concat(e.row.last_name||"")}}],f=t(3433),p=t(4942),x=t(8047),g=t(6039),v=t(5579),Z=t(7892),j=t.n(Z),y=t(7012);function b(){return(b=(0,o.Z)((0,s.Z)().mark((function e(n,t){var a,r,i,o;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.name,r=n.last_name,i="".concat(c,"/v1/examen/employees/edwin_contreras"),o={body:{name:a,last_name:r,birthday:t},headers:{"content-type":"application/json"}},e.next=5,l().post(i,o).then((function(e){return e})).then((function(e){return e}));case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var w=t(8320),P=t(1543),D=t(4788),_=t.n(D),Y=t(4162),E=t(6571),C=t(7792),L=t(184),k=function(e){var n=e.handleChangeDatePicker,t=e.value;return(0,L.jsx)(x.ZP,{item:!0,xs:12,md:7,lg:7,sm:12,children:(0,L.jsx)(E._,{locale:_(),dateAdapter:C.y,children:(0,L.jsx)(Y.Z,{spacing:3,children:(0,L.jsx)(P.O,{label:"Selecciona tu fecha de nacimiento",inputFormat:"YYYY/MM/DD",value:t,onChange:n,renderInput:function(e){return(0,L.jsx)(w.Z,(0,a.Z)({},e))}})})})})},T=function(e){var n=e.handleChangeTextField,t=e.form;return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(x.ZP,{item:!0,xs:12,md:7,lg:7,sm:12,children:(0,L.jsx)(w.Z,{fullWidth:!0,required:!0,inputProps:{maxLength:30},onChange:n,value:t.name,name:"name",size:"small",id:"name",label:"Escribe tus nombres",variant:"outlined"})}),(0,L.jsx)(x.ZP,{item:!0,xs:12,md:7,lg:7,sm:12,children:(0,L.jsx)(w.Z,{fullWidth:!0,required:!0,inputProps:{maxLength:30},onChange:n,value:t.last_name,name:"last_name",size:"small",id:"last_name",label:"Escribe tus apellidos",variant:"outlined"})})]})},M=t(6716),S=t(2235),N=t(2812),z=function(e){var n=e.setListEmployees,t=e.listEmployees,s=i.useState(j()()),o=(0,r.Z)(s,2),l=o[0],c=o[1],d=(0,i.useState)({name:"",last_name:""}),u=(0,r.Z)(d,2),m=u[0],h=u[1],Z=(0,i.useState)({error:!1,message:"",hasLoading:!1}),w=(0,r.Z)(Z,2),P=w[0],D=w[1];return(0,L.jsx)(y.Z,{theme:M.y,children:(0,L.jsxs)(x.ZP,{container:!0,mt:0,mb:8,children:[(0,L.jsx)(x.ZP,{item:!0,xs:11,md:5,lg:5,sm:11,ml:2,children:(0,L.jsx)(g.Z,{elevation:3,sx:{p:3,display:"flex",flexDirection:"row"},children:(0,L.jsxs)(x.ZP,{container:!0,spacing:2,children:[(0,L.jsx)(T,{handleChangeTextField:function(e){h((0,a.Z)((0,a.Z)({},m),{},(0,p.Z)({},e.target.name,e.target.value)))},form:m}),(0,L.jsx)(k,{handleChangeDatePicker:function(e){c(e)},value:l})]})})}),(0,L.jsx)(x.ZP,{container:!0,children:(0,L.jsxs)(x.ZP,{item:!0,xs:5,md:2,lg:2,sm:5,mt:4,ml:2,children:[(0,L.jsx)(v.Z,{fullWidth:!0,onClick:function(e){if(""===m.name||""===m.last_name||""===(null===l||void 0===l?void 0:l.format("YYYY-MM-DD")))return alert("Todos los campos son obligatorios");D({error:!1,message:"",hasLoading:!0}),function(e,n){return b.apply(this,arguments)}(m,null===l||void 0===l?void 0:l.format("YYYY-MM-DD")).then((function(e){if(!0!==e.success)return D({error:!0,message:e.data,hasLoading:!1});n([].concat((0,f.Z)(t),[{id:t.length+1,name:m.name,last_name:m.last_name,birthday:null===l||void 0===l?void 0:l.format("YYYY-MM-DD")}])),D({error:!1,message:e.data,hasLoading:!1})})).catch((function(e){D({error:!1,message:e,hasLoading:!1})}))},variant:"contained",children:"Enviar Datos"}),(0,L.jsx)(N.Z,{variant:"subtitle2",gutterBottom:!0,mt:2,children:P.message}),P.hasLoading&&(0,L.jsx)(S.Z,{})]})})]})})},F=function(){var e=(0,i.useState)([]),n=(0,r.Z)(e,2),t=n[0],s=n[1];return(0,i.useEffect)((function(){(function(e){return d.apply(this,arguments)})("Edwin Contreras").then((function(e){var n=e.data.employees.map((function(e){return(0,a.Z)((0,a.Z)({},e),{},{birthday:new Date(e.birthday).toLocaleDateString()})}));s(n)})).catch((function(e){alert(e)}))}),[]),(0,L.jsx)(x.ZP,{container:!0,mt:10,children:(0,L.jsxs)(x.ZP,{item:!0,xs:12,md:10,lg:10,sm:12,mt:4,ml:2,children:[(0,L.jsx)(z,{setListEmployees:s,listEmployees:t}),(0,L.jsx)("div",{style:{height:400,width:"100%"},children:(0,L.jsx)("div",{style:{display:"flex",height:"100%"},children:(0,L.jsxs)("div",{style:{flexGrow:1},children:[(0,L.jsx)(N.Z,{color:"warning.main",variant:"subtitle2",gutterBottom:!0,children:"Haz click en alg\xfan encabezado para filtrar los datos."}),(0,L.jsx)(u._,{loading:0===t.length,rows:t,columns:h,pageSize:10,rowsPerPageOptions:[10],localeText:m._.components.MuiDataGrid.defaultProps.localeText})]})})})]})})},G=F}}]);
//# sourceMappingURL=430.62988061.chunk.js.map